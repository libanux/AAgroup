
  
  <!-- Add Row  -->
  <mat-card class="cardWithShadow">
    <mat-card-content>
      <div class="InputsWholeRow">
  
        <div class="inputsInAdd">
          <section>
            <div><input type="text" [(ngModel)]="editedstock.barcode" placeholder="barcode"></div>
            <div><input type="text" [(ngModel)]="editedstock.itemName" placeholder="itemName"></div>
          </section>
  
          <section>
            <div><input type="text" [(ngModel)]="editedstock.quantity"  placeholder="quantity"></div>
            <div><input type="text" [(ngModel)]="editedstock.previousQuantity"  placeholder="previousQuantity"></div>
          </section>
  
          <section>
            <div><input type="number" [(ngModel)]="editedstock.currentQuantity" placeholder="currentQuantity"></div>
          </section>
        </div>
  
        <div *ngIf="ShowAddButoon">
          <button mat-flat-button color="primary" style="font-size: 11px;" (click)="ADD_STOCK()"> Add Stock </button>
        </div>
  
        <div class="TwoButtons" *ngIf="!ShowAddButoon">
          <button mat-flat-button color="primary" (click)="CANCEL()">Cancel</button>
          <button mat-flat-button color="primary" (click)="EDIT_STOCK(expandedElement)">Update</button>
        </div>
  
      </div>
    </mat-card-content>
  </mat-card>
  
  
  <!-- WHOLE TABLE -->
  <mat-card class="cardWithShadow">
 
  <!-- TABLE HEADER -->
    <header>
        <!-- SEARCH -->
      <div class="col-sm-4 p-20 searchbar ">
        <mat-form-field appearance="outline" class="hide-hint custom-search ">
          <input matInput placeholder="Search Stocks" />
          <mat-icon matSuffix>
            <i-tabler name="search" class="icon-15"></i-tabler>
          </mat-icon>
        </mat-form-field>
      </div>
  
         <!-- DROPDOWN -->
      <div class="filter-date">
        <mat-card-header class="d-flex">
          <mat-form-field class="theme-select" appearance="outline">
            <mat-select [(ngModel)]="selectedMonth" (selectionChange)="ON_CHANGE_DROPDOWN($event.value)" placeholder="Today">
              <mat-option *ngFor="let month of months" [value]="month.value">{{ month.viewValue }}</mat-option>
            </mat-select>
          </mat-form-field>
          
        </mat-card-header>
      </div>
    </header>

    <mat-card-content>

<!-- TABLE BODY -->
<div class="table-responsive">
<table mat-table [dataSource]="stocksArray" multiTemplateDataRows>

<!-- Iterate over displayedColumns using ngFor -->
<ng-container *ngFor="let column of displayedColumns;">
    <ng-container matColumnDef="{{ column }}">
              
    <th mat-header-cell *matHeaderCellDef class="f-w-600 mat-subtitle-1 f-s-14 p-x-24 p-l-0">{{ column | titlecase }}</th>
    <td mat-cell *matCellDef="let element" class="p-x-24 f-s-14 p-l-0" (click)="expandRow($event, element, column)">

    <!-- Check if the column is 'status' -->
    <ng-container *ngIf="column !== 'action'; else actionColumn">
        <ng-container *ngIf="column !== 'barcode'; else barcodeColumn">
            <ng-container *ngIf="column !== 'itemName'; else itemNameColumn">
                <ng-container *ngIf="column !== 'quantity'; else quantityColumn">
                    <ng-container *ngIf="column !== 'previousQuantity'; else previousQuantityColumn">
                    <ng-container *ngIf="column !== 'currentQuantity'; else currentQuantityColumn"></ng-container>
                    </ng-container>
                </ng-container>
            </ng-container>    
        </ng-container>

    </ng-container>

  
    <!-- Apply specific design if the column is 'status' -->
    <ng-template #barcodeColumn>{{ element[column] }}</ng-template>
    <ng-template #itemNameColumn>{{ element[column] }}</ng-template>
    <ng-template #quantityColumn>{{ element[column] }}</ng-template>
    <ng-template #previousQuantityColumn>$ {{ element[column] }}</ng-template>
    <ng-template #currentQuantityColumn>{{ element[column] }}</ng-template>
        
    <ng-template #actionColumn>
       <div class="action-link">
        <a (click)="EDIT_STOCK(element)" class="m-r-10 cursor-pointer"><i-tabler name="edit" class="icon-18"></i-tabler></a>
        <a class="m-r-10 cursor-pointer" (click)="OPEN_DIALOG('Delete',element)"><i-tabler name="trash" class="icon-18"></i-tabler></a>
      </div>
     </ng-template>

        </td>
    </ng-container>
</ng-container>
  
    <!-- EXPANDED ROW DETAILS -->
    <ng-container matColumnDef="expandedDetail">
        <td mat-cell *matCellDef="let element" [attr.colspan]="displayedColumns.length">
            <div [@detailExpand]="element === expandedElement ? 'expanded' : 'collapsed'">
                <div class="p-15 rounded b-1 m-b-16 m-x-18">
                  <div class="d-flex align-items-center gap-12">
                    <span
                      class="bg-light-primary text-primary icon-48 rounded f-w-600 d-flex align-items-center justify-content-center">
                      {{ element.barcode }}
                    </span>
                    <div>
                      <div class="f-s-14 f-w-600 mat-subtitle-1">{{ element.itemName }}</div>
                      <div class="f-s-14">{{ element.quantity }}</div>
                      <div class="f-s-14">{{ element.previousQuantity }}</div>
                      <div class="f-s-14">{{ element.currentQuantity }}</div>
                    </div>
                  </div>
                </div>
            </div>
        </td>
    </ng-container>
  
    <!-- HEADER AND ROW DEFINITIONS -->
    <tr mat-header-row *matHeaderRowDef="columnsToDisplayWithExpand"></tr>
    <tr mat-row *matRowDef="let element; columns: columnsToDisplayWithExpand" class="example-element-row"
        [class.example-expanded-row]="expandedElement === element"
        (click)="expandedElement = expandedElement === element ? null : element;">
    </tr>
    <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>

</table>
</div>
  
    <!-- TABLE PAGINATION -->
    <mat-paginator [pageSizeOptions]="[10, 20, 30]" showFirstLastButtons></mat-paginator>

    </mat-card-content>
  </mat-card>